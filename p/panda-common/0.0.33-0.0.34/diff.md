# Comparing `tmp/panda_common-0.0.33-py2.py3-none-any.whl.zip` & `tmp/panda_common-0.0.34-py2.py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,30 +1,30 @@
-Zip file size: 30881 bytes, number of entries: 28
--rw-r--r--  2.0 unx      938 b- defN 23-Feb-10 08:55 panda_common-0.0.33.data/data/etc/panda/panda_common.cfg.rpmnew
--rwxr-xr-x  2.0 unx      275 b- defN 23-Feb-10 08:55 panda_common-0.0.33.data/scripts/panda_common-install_igtf_ca
--rw-r--r--  2.0 unx        0 b- defN 23-Feb-10 08:55 pandacommon/__init__.py
--rw-r--r--  2.0 unx     2778 b- defN 23-Feb-10 08:55 pandacommon/liveconfigparser/LiveConfigParser.py
--rw-r--r--  2.0 unx        0 b- defN 23-Feb-10 08:55 pandacommon/liveconfigparser/__init__.py
--rw-r--r--  2.0 unx     4479 b- defN 23-Feb-10 08:55 pandacommon/pandalogger/LogWrapper.py
--rw-r--r--  2.0 unx    12360 b- defN 23-Feb-10 08:55 pandacommon/pandalogger/PandaLogger.py
--rw-r--r--  2.0 unx        0 b- defN 23-Feb-10 08:55 pandacommon/pandalogger/__init__.py
--rw-r--r--  2.0 unx      223 b- defN 23-Feb-10 08:55 pandacommon/pandalogger/logger_config.py
--rw-r--r--  2.0 unx     1684 b- defN 23-Feb-10 08:55 pandacommon/pandalogger/logger_utils.py
--rw-r--r--  2.0 unx        0 b- defN 23-Feb-10 08:55 pandacommon/pandamsgbkr/__init__.py
--rw-r--r--  2.0 unx    22923 b- defN 23-Feb-10 08:55 pandacommon/pandamsgbkr/msg_bkr_utils.py
--rw-r--r--  2.0 unx    25345 b- defN 23-Feb-10 08:55 pandacommon/pandamsgbkr/msg_processor.py
--rw-r--r--  2.0 unx      849 b- defN 23-Feb-10 08:55 pandacommon/pandautils/ConfigUtils.py
--rw-r--r--  2.0 unx      856 b- defN 23-Feb-10 08:55 pandacommon/pandautils/PandaUtils.py
--rw-r--r--  2.0 unx        0 b- defN 23-Feb-10 08:55 pandacommon/pandautils/__init__.py
--rw-r--r--  2.0 unx     2315 b- defN 23-Feb-10 08:55 pandacommon/pandautils/net_utils.py
--rw-r--r--  2.0 unx     1898 b- defN 23-Feb-10 08:55 pandacommon/pandautils/plugin_factory.py
--rw-r--r--  2.0 unx     3278 b- defN 23-Feb-10 08:55 pandacommon/pandautils/thread_utils.py
--rw-r--r--  2.0 unx      116 b- defN 23-Feb-10 08:55 pandacommon/pandautils/utils_config.py
--rw-r--r--  2.0 unx        0 b- defN 23-Feb-10 08:55 pandacommon/test/__init__.py
--rw-r--r--  2.0 unx      237 b- defN 23-Feb-10 08:55 pandacommon/test/logtest.py
--rw-r--r--  2.0 unx     6787 b- defN 23-Feb-10 08:55 pandacommon/test/mb_test.py
--rw-r--r--  2.0 unx    11357 b- defN 23-Feb-10 08:55 panda_common-0.0.33.dist-info/LICENSE
--rw-r--r--  2.0 unx      401 b- defN 23-Feb-10 08:55 panda_common-0.0.33.dist-info/METADATA
--rw-r--r--  2.0 unx      110 b- defN 23-Feb-10 08:55 panda_common-0.0.33.dist-info/WHEEL
--rw-r--r--  2.0 unx       12 b- defN 23-Feb-10 08:55 panda_common-0.0.33.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     2585 b- defN 23-Feb-10 08:55 panda_common-0.0.33.dist-info/RECORD
-28 files, 101806 bytes uncompressed, 26595 bytes compressed:  73.9%
+Zip file size: 31142 bytes, number of entries: 28
+-rw-r--r--  2.0 unx      938 b- defN 23-Apr-24 14:06 panda_common-0.0.34.data/data/etc/panda/panda_common.cfg.rpmnew
+-rwxr-xr-x  2.0 unx      275 b- defN 23-Apr-24 14:06 panda_common-0.0.34.data/scripts/panda_common-install_igtf_ca
+-rw-r--r--  2.0 unx        0 b- defN 23-Apr-24 14:06 pandacommon/__init__.py
+-rw-r--r--  2.0 unx     2778 b- defN 23-Apr-24 14:06 pandacommon/liveconfigparser/LiveConfigParser.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Apr-24 14:06 pandacommon/liveconfigparser/__init__.py
+-rw-r--r--  2.0 unx     4479 b- defN 23-Apr-24 14:06 pandacommon/pandalogger/LogWrapper.py
+-rw-r--r--  2.0 unx    12360 b- defN 23-Apr-24 14:06 pandacommon/pandalogger/PandaLogger.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Apr-24 14:06 pandacommon/pandalogger/__init__.py
+-rw-r--r--  2.0 unx      223 b- defN 23-Apr-24 14:06 pandacommon/pandalogger/logger_config.py
+-rw-r--r--  2.0 unx     1684 b- defN 23-Apr-24 14:06 pandacommon/pandalogger/logger_utils.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Apr-24 14:06 pandacommon/pandamsgbkr/__init__.py
+-rw-r--r--  2.0 unx    22923 b- defN 23-Apr-24 14:06 pandacommon/pandamsgbkr/msg_bkr_utils.py
+-rw-r--r--  2.0 unx    25345 b- defN 23-Apr-24 14:06 pandacommon/pandamsgbkr/msg_processor.py
+-rw-r--r--  2.0 unx      849 b- defN 23-Apr-24 14:06 pandacommon/pandautils/ConfigUtils.py
+-rw-r--r--  2.0 unx      856 b- defN 23-Apr-24 14:06 pandacommon/pandautils/PandaUtils.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Apr-24 14:06 pandacommon/pandautils/__init__.py
+-rw-r--r--  2.0 unx     2315 b- defN 23-Apr-24 14:06 pandacommon/pandautils/net_utils.py
+-rw-r--r--  2.0 unx     1898 b- defN 23-Apr-24 14:06 pandacommon/pandautils/plugin_factory.py
+-rw-r--r--  2.0 unx     4613 b- defN 23-Apr-24 14:06 pandacommon/pandautils/thread_utils.py
+-rw-r--r--  2.0 unx      116 b- defN 23-Apr-24 14:06 pandacommon/pandautils/utils_config.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Apr-24 14:06 pandacommon/test/__init__.py
+-rw-r--r--  2.0 unx      237 b- defN 23-Apr-24 14:06 pandacommon/test/logtest.py
+-rw-r--r--  2.0 unx     6787 b- defN 23-Apr-24 14:06 pandacommon/test/mb_test.py
+-rw-r--r--  2.0 unx    11357 b- defN 23-Apr-24 14:07 panda_common-0.0.34.dist-info/LICENSE
+-rw-r--r--  2.0 unx      401 b- defN 23-Apr-24 14:07 panda_common-0.0.34.dist-info/METADATA
+-rw-r--r--  2.0 unx      110 b- defN 23-Apr-24 14:07 panda_common-0.0.34.dist-info/WHEEL
+-rw-r--r--  2.0 unx       12 b- defN 23-Apr-24 14:07 panda_common-0.0.34.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     2585 b- defN 23-Apr-24 14:07 panda_common-0.0.34.dist-info/RECORD
+28 files, 103141 bytes uncompressed, 26856 bytes compressed:  74.0%
```

## zipnote {}

```diff
@@ -1,11 +1,11 @@
-Filename: panda_common-0.0.33.data/data/etc/panda/panda_common.cfg.rpmnew
+Filename: panda_common-0.0.34.data/data/etc/panda/panda_common.cfg.rpmnew
 Comment: 
 
-Filename: panda_common-0.0.33.data/scripts/panda_common-install_igtf_ca
+Filename: panda_common-0.0.34.data/scripts/panda_common-install_igtf_ca
 Comment: 
 
 Filename: pandacommon/__init__.py
 Comment: 
 
 Filename: pandacommon/liveconfigparser/LiveConfigParser.py
 Comment: 
@@ -63,23 +63,23 @@
 
 Filename: pandacommon/test/logtest.py
 Comment: 
 
 Filename: pandacommon/test/mb_test.py
 Comment: 
 
-Filename: panda_common-0.0.33.dist-info/LICENSE
+Filename: panda_common-0.0.34.dist-info/LICENSE
 Comment: 
 
-Filename: panda_common-0.0.33.dist-info/METADATA
+Filename: panda_common-0.0.34.dist-info/METADATA
 Comment: 
 
-Filename: panda_common-0.0.33.dist-info/WHEEL
+Filename: panda_common-0.0.34.dist-info/WHEEL
 Comment: 
 
-Filename: panda_common-0.0.33.dist-info/top_level.txt
+Filename: panda_common-0.0.34.dist-info/top_level.txt
 Comment: 
 
-Filename: panda_common-0.0.33.dist-info/RECORD
+Filename: panda_common-0.0.34.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## pandacommon/pandautils/thread_utils.py

```diff
@@ -105,7 +105,46 @@
             # delete empty
             if not data[item]:
                 del data[item]
                 del weights[item]
             self.weights.put(weights)
             self.data.put(data)
             return d
+
+
+# lock pool
+class LockPool(object):
+
+    def __init__(self, pool_size=100):
+        self.pool_size = pool_size
+        self.lock = multiprocessing.Lock()
+        self.manager = multiprocessing.Manager()
+        self.key_to_lock = self.manager.dict()
+        self.lock_ref_count = self.manager.dict()
+        self.lock_pool = {i: multiprocessing.Lock() for i in range(pool_size)}
+
+    def get(self, key):
+        with self.lock:
+            if key not in self.key_to_lock:
+                in_used = set(self.key_to_lock.values())
+                free_locks = set(range(self.pool_size)).difference(in_used)
+                if not free_locks:
+                    return None
+                index = free_locks.pop()
+                self.key_to_lock[key] = index
+                self.lock_ref_count[index] = 1
+            else:
+                index = self.key_to_lock[key]
+                self.lock_ref_count[index] += 1
+            return self.lock_pool[index]
+
+    def release(self, key):
+        with self.lock:
+            if key not in self.key_to_lock:
+                return
+            index = self.key_to_lock[key]
+            count = self.lock_ref_count[index]
+            count -= 1
+            if count <= 0:
+                count = 0
+                del self.key_to_lock[key]
+            self.lock_ref_count[index] = count
```

## Comparing `panda_common-0.0.33.data/data/etc/panda/panda_common.cfg.rpmnew` & `panda_common-0.0.34.data/data/etc/panda/panda_common.cfg.rpmnew`

 * *Files identical despite different names*

## Comparing `panda_common-0.0.33.dist-info/LICENSE` & `panda_common-0.0.34.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `panda_common-0.0.33.dist-info/RECORD` & `panda_common-0.0.34.dist-info/RECORD`

 * *Files 13% similar despite different names*

```diff
@@ -1,9 +1,9 @@
-panda_common-0.0.33.data/data/etc/panda/panda_common.cfg.rpmnew,sha256=qHMYdba4xTWC1tEHDr_6pIggxrqdZ1IMLI1InyuiaA8,938
-panda_common-0.0.33.data/scripts/panda_common-install_igtf_ca,sha256=mvjhGbRpMfh-urQ1SQ3WkNAXywmV0bHl2O6w_U7r0gk,275
+panda_common-0.0.34.data/data/etc/panda/panda_common.cfg.rpmnew,sha256=qHMYdba4xTWC1tEHDr_6pIggxrqdZ1IMLI1InyuiaA8,938
+panda_common-0.0.34.data/scripts/panda_common-install_igtf_ca,sha256=mvjhGbRpMfh-urQ1SQ3WkNAXywmV0bHl2O6w_U7r0gk,275
 pandacommon/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 pandacommon/liveconfigparser/LiveConfigParser.py,sha256=vHD__kKY0OnW0y51gQ_HRoWv9jenDsXzWzEOJPfA4ys,2778
 pandacommon/liveconfigparser/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 pandacommon/pandalogger/LogWrapper.py,sha256=7RbZ8LI3Xw7xgZBdVkzaIPWu6RwyyeMzbS9rKpac7WM,4479
 pandacommon/pandalogger/PandaLogger.py,sha256=S2NrM5JNlAF0y26U5daWMysF7yu3kOFhPTYopr1IxWs,12360
 pandacommon/pandalogger/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 pandacommon/pandalogger/logger_config.py,sha256=uClNl6MxUnRweHn8VRNDXSuD3aZOeGMk0PAXWPvfM7M,223
@@ -12,17 +12,17 @@
 pandacommon/pandamsgbkr/msg_bkr_utils.py,sha256=nQnrABn29FtEi9dXGJa8MCZHMJDkJAGC_p2xid0O1fU,22923
 pandacommon/pandamsgbkr/msg_processor.py,sha256=f0aCmWhewXDPiDCWgX7PZRDvIOa7Ixs4jMm2kBoWIpE,25345
 pandacommon/pandautils/ConfigUtils.py,sha256=ey8PWa_z_u2gfqzbmhaToetMC344FGz2EHA6MxHTF5g,849
 pandacommon/pandautils/PandaUtils.py,sha256=i4aBH-7NphQn6h8Q9YZq1QhawKAmajDXW-HPnknCxOo,856
 pandacommon/pandautils/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 pandacommon/pandautils/net_utils.py,sha256=atFUVvUJ7MW_GyHU03dkX0g9tVNTd0Vc70bIhokcI5w,2315
 pandacommon/pandautils/plugin_factory.py,sha256=FAN5PQGoXs5WdFh0Z9m7pkZ6Swxsx-HScu2gyppIDk0,1898
-pandacommon/pandautils/thread_utils.py,sha256=UzaaF2DA6G04WC0GJ8ZOF7QtHAS9Bd4CBKfnAt1Al9k,3278
+pandacommon/pandautils/thread_utils.py,sha256=B1vK-04kyNkG6UTOAFAhEj0j7ln7qWNdU-2nxRkkv5g,4613
 pandacommon/pandautils/utils_config.py,sha256=fWMtIB_q_-25LrqUUkvOYG4jJNlBywqvIs7RSoejAV0,116
 pandacommon/test/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 pandacommon/test/logtest.py,sha256=FMTkfLlE1tsKpzyuzMn792QyzBlryL7VkUlKGmWGRLU,237
 pandacommon/test/mb_test.py,sha256=g4Z7Am2bHCcaXs_JGiJF1sYfXlHgm-uNq3wuOZ7VjBA,6787
-panda_common-0.0.33.dist-info/LICENSE,sha256=tAkwu8-AdEyGxGoSvJ2gVmQdcicWw3j1ZZueVV74M-E,11357
-panda_common-0.0.33.dist-info/METADATA,sha256=mkheBg7RpFLMWtKtghGu17xKO-AWZAq7ZGfH0mMeTCs,401
-panda_common-0.0.33.dist-info/WHEEL,sha256=bb2Ot9scclHKMOLDEHY6B2sicWOgugjFKaJsT7vwMQo,110
-panda_common-0.0.33.dist-info/top_level.txt,sha256=i6YIYpkG0RkbQLTv3AhT4i-GdbhsAInnjWviNDCb-Sg,12
-panda_common-0.0.33.dist-info/RECORD,,
+panda_common-0.0.34.dist-info/LICENSE,sha256=tAkwu8-AdEyGxGoSvJ2gVmQdcicWw3j1ZZueVV74M-E,11357
+panda_common-0.0.34.dist-info/METADATA,sha256=xLSP9GR952OZ299s6X7_p3daMYEX_Wry30tPhbvmVj8,401
+panda_common-0.0.34.dist-info/WHEEL,sha256=a-zpFRIJzOq5QfuhBzbhiA1eHTzNCJn8OdRvhdNX0Rk,110
+panda_common-0.0.34.dist-info/top_level.txt,sha256=i6YIYpkG0RkbQLTv3AhT4i-GdbhsAInnjWviNDCb-Sg,12
+panda_common-0.0.34.dist-info/RECORD,,
```

