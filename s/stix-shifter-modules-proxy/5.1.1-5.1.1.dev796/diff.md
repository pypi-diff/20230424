# Comparing `tmp/stix_shifter_modules_proxy-5.1.1-py2.py3-none-any.whl.zip` & `tmp/stix_shifter_modules_proxy-5.1.1.dev796-py2.py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,20 +1,20 @@
-Zip file size: 21184 bytes, number of entries: 18
--rw-rw-r--  2.0 unx        0 b- defN 23-Mar-21 13:47 stix_shifter_modules/proxy/__init__.py
--rw-rw-r--  2.0 unx      824 b- defN 23-Mar-21 13:47 stix_shifter_modules/proxy/entry_point.py
--rw-rw-r--  2.0 unx     3287 b- defN 23-Mar-21 13:51 stix_shifter_modules/proxy/configuration/config.json
--rw-rw-r--  2.0 unx       76 b- defN 23-Mar-21 13:51 stix_shifter_modules/proxy/configuration/dialects.json
--rw-rw-r--  2.0 unx     2920 b- defN 23-Mar-21 13:51 stix_shifter_modules/proxy/configuration/lang_en.json
--rw-rw-r--  2.0 unx        0 b- defN 23-Mar-21 13:47 stix_shifter_modules/proxy/stix_translation/__init__.py
--rw-rw-r--  2.0 unx    21567 b- defN 23-Mar-21 13:51 stix_shifter_modules/proxy/stix_translation/json_to_stix_translator.py
--rw-rw-r--  2.0 unx     2491 b- defN 23-Mar-21 13:47 stix_shifter_modules/proxy/stix_translation/query_translator.py
--rw-rw-r--  2.0 unx     1238 b- defN 23-Mar-21 13:47 stix_shifter_modules/proxy/stix_translation/results_translator.py
--rw-rw-r--  2.0 unx      377 b- defN 23-Mar-21 13:47 stix_shifter_modules/proxy/stix_translation/utils.py
--rw-rw-r--  2.0 unx        0 b- defN 23-Mar-21 13:47 stix_shifter_modules/proxy/stix_transmission/__init__.py
--rw-rw-r--  2.0 unx     4029 b- defN 23-Mar-21 13:47 stix_shifter_modules/proxy/stix_transmission/connector.py
--rw-rw-r--  2.0 unx    12786 b- defN 23-Mar-21 13:51 stix_shifter_modules_proxy-5.1.1.dist-info/LICENSE.md
--rw-rw-r--  2.0 unx     7269 b- defN 23-Mar-21 13:51 stix_shifter_modules_proxy-5.1.1.dist-info/METADATA
--rw-rw-r--  2.0 unx     1418 b- defN 23-Mar-21 13:51 stix_shifter_modules_proxy-5.1.1.dist-info/NOTICE
--rw-rw-r--  2.0 unx      110 b- defN 23-Mar-21 13:51 stix_shifter_modules_proxy-5.1.1.dist-info/WHEEL
--rw-rw-r--  2.0 unx       21 b- defN 23-Mar-21 13:51 stix_shifter_modules_proxy-5.1.1.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     1920 b- defN 23-Mar-21 13:51 stix_shifter_modules_proxy-5.1.1.dist-info/RECORD
-18 files, 60333 bytes uncompressed, 17870 bytes compressed:  70.4%
+Zip file size: 21327 bytes, number of entries: 18
+-rw-rw-r--  2.0 unx        0 b- defN 23-Apr-24 17:21 stix_shifter_modules/proxy/__init__.py
+-rw-rw-r--  2.0 unx      824 b- defN 23-Apr-24 17:21 stix_shifter_modules/proxy/entry_point.py
+-rw-rw-r--  2.0 unx     3287 b- defN 23-Apr-24 17:23 stix_shifter_modules/proxy/configuration/config.json
+-rw-rw-r--  2.0 unx       76 b- defN 23-Apr-24 17:23 stix_shifter_modules/proxy/configuration/dialects.json
+-rw-rw-r--  2.0 unx     2920 b- defN 23-Apr-24 17:23 stix_shifter_modules/proxy/configuration/lang_en.json
+-rw-rw-r--  2.0 unx        0 b- defN 23-Apr-24 17:21 stix_shifter_modules/proxy/stix_translation/__init__.py
+-rw-rw-r--  2.0 unx    21897 b- defN 23-Apr-24 17:23 stix_shifter_modules/proxy/stix_translation/json_to_stix_translator.py
+-rw-rw-r--  2.0 unx     2491 b- defN 23-Apr-24 17:21 stix_shifter_modules/proxy/stix_translation/query_translator.py
+-rw-rw-r--  2.0 unx     1238 b- defN 23-Apr-24 17:21 stix_shifter_modules/proxy/stix_translation/results_translator.py
+-rw-rw-r--  2.0 unx      377 b- defN 23-Apr-24 17:21 stix_shifter_modules/proxy/stix_translation/utils.py
+-rw-rw-r--  2.0 unx        0 b- defN 23-Apr-24 17:21 stix_shifter_modules/proxy/stix_transmission/__init__.py
+-rw-rw-r--  2.0 unx     4024 b- defN 23-Apr-24 17:21 stix_shifter_modules/proxy/stix_transmission/connector.py
+-rw-rw-r--  2.0 unx    12786 b- defN 23-Apr-24 17:23 stix_shifter_modules_proxy-5.1.1.dev796.dist-info/LICENSE.md
+-rw-rw-r--  2.0 unx     7276 b- defN 23-Apr-24 17:23 stix_shifter_modules_proxy-5.1.1.dev796.dist-info/METADATA
+-rw-rw-r--  2.0 unx     1418 b- defN 23-Apr-24 17:23 stix_shifter_modules_proxy-5.1.1.dev796.dist-info/NOTICE
+-rw-rw-r--  2.0 unx      110 b- defN 23-Apr-24 17:23 stix_shifter_modules_proxy-5.1.1.dev796.dist-info/WHEEL
+-rw-rw-r--  2.0 unx       21 b- defN 23-Apr-24 17:23 stix_shifter_modules_proxy-5.1.1.dev796.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     1962 b- defN 23-Apr-24 17:23 stix_shifter_modules_proxy-5.1.1.dev796.dist-info/RECORD
+18 files, 60707 bytes uncompressed, 17929 bytes compressed:  70.5%
```

## zipnote {}

```diff
@@ -30,26 +30,26 @@
 
 Filename: stix_shifter_modules/proxy/stix_transmission/__init__.py
 Comment: 
 
 Filename: stix_shifter_modules/proxy/stix_transmission/connector.py
 Comment: 
 
-Filename: stix_shifter_modules_proxy-5.1.1.dist-info/LICENSE.md
+Filename: stix_shifter_modules_proxy-5.1.1.dev796.dist-info/LICENSE.md
 Comment: 
 
-Filename: stix_shifter_modules_proxy-5.1.1.dist-info/METADATA
+Filename: stix_shifter_modules_proxy-5.1.1.dev796.dist-info/METADATA
 Comment: 
 
-Filename: stix_shifter_modules_proxy-5.1.1.dist-info/NOTICE
+Filename: stix_shifter_modules_proxy-5.1.1.dev796.dist-info/NOTICE
 Comment: 
 
-Filename: stix_shifter_modules_proxy-5.1.1.dist-info/WHEEL
+Filename: stix_shifter_modules_proxy-5.1.1.dev796.dist-info/WHEEL
 Comment: 
 
-Filename: stix_shifter_modules_proxy-5.1.1.dist-info/top_level.txt
+Filename: stix_shifter_modules_proxy-5.1.1.dev796.dist-info/top_level.txt
 Comment: 
 
-Filename: stix_shifter_modules_proxy-5.1.1.dist-info/RECORD
+Filename: stix_shifter_modules_proxy-5.1.1.dev796.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## stix_shifter_modules/proxy/configuration/lang_en.json

### Pretty-printed

 * *Similarity: 0.9962121212121212%*

 * *Differences: {"'connection'": "{'options': {'proxy_port': {'label': 'Host port'}, 'result_limit': {'label': "*

 * *                 "'Result size limit'}, 'time_range': {'label': 'Query time range'}, 'timeout': "*

 * *                 "{'label': 'Query response timeout limit'}, 'validate_pattern': {'label': 'STIX "*

 * *                 "pattern validator'}, 'stix_validator': {'label': 'STIX object validator'}, "*

 * *                 "'mapping': {'label': 'Custom mapping'}, 'concurrent': {'label': 'Concurrent "*

 * *                 "search li [â€¦]*

```diff
@@ -9,57 +9,57 @@
         "help": {
             "description": "More details on the data source setting can be found in the specified link",
             "label": "Need additional help?"
         },
         "options": {
             "concurrent": {
                 "description": "The number of simultaneous connections that can be made to the data source.  Valid input range is {{min}} to {{max}}.",
-                "label": "Concurrent Search Limit"
+                "label": "Concurrent search limit"
             },
             "destination": {
                 "description": "JSON string with connection and configuration objects",
                 "label": "Destinations",
                 "placeholder": "{\"connection\": {\"host\": ...}, \"configuration\":{\"auth\":{\"login\"...}}}"
             },
             "dialects": {
                 "description": "The dialect to use if the data source needs to search multiple schema or database tables.",
                 "label": "Dialect"
             },
             "mapping": {
                 "description": "Custom stix mapping if default mapping needs to be replaced",
-                "label": "Custom Mapping"
+                "label": "Custom mapping"
             },
             "proxy_host": {
                 "description": "Specify the IP address or hostname of the proxy",
                 "label": "Management IP address or hostname",
                 "placeholder": "192.168.1.10"
             },
             "proxy_port": {
                 "description": "Set the port number that is associated with the proxy hostname or IP address",
-                "label": "Host Port"
+                "label": "Host port"
             },
             "result_limit": {
                 "description": "The maximum number of entries or objects that are returned by search query.  Valid input range is {{min}} to {{max}}.",
-                "label": "Result Size Limit"
+                "label": "Result size limit"
             },
             "stix_validator": {
                 "description": "Validate translated STIX Objects",
-                "label": "STIX Object Validator"
+                "label": "STIX object validator"
             },
             "time_range": {
                 "description": "Time range for the search, in minutes, represented as last x minutes.  Valid input range is {{min}} to {{max}}.",
-                "label": "Query Time Range"
+                "label": "Query time range"
             },
             "timeout": {
                 "description": "The limit on how long to wait for the data source response, in seconds. Valid input range is {{min}} to {{max}}.",
-                "label": "Query Response Timeout Limit"
+                "label": "Query response timeout limit"
             },
             "validate_pattern": {
                 "description": "Validate STIX patterns that needs to be translated into native data source query",
-                "label": "STIX Pattern Validator"
+                "label": "STIX pattern validator"
             }
         },
         "type": {
             "description": "Data source type"
         }
     }
 }
```

## stix_shifter_modules/proxy/stix_translation/json_to_stix_translator.py

```diff
@@ -15,41 +15,49 @@
 NUMBER_OBSERVED_KEY = 'number_observed'
 FIRST_OBSERVED_KEY = 'first_observed'
 LAST_OBSERVED_KEY = 'last_observed'
 
 
 # convert JSON data to STIX object using map_data and transformers
 def convert_to_stix(data_source, map_data, data, transformers, options, callback=None):
+    try:
+        ds2stix = DataSourceObjToStixObj(data_source, map_data, transformers, options, callback)
 
-    ds2stix = DataSourceObjToStixObj(data_source, map_data, transformers, options, callback)
-
-    # map data list to list of transformed objects
-    observation = ds2stix.transform
-    results = list(map(observation, data))
-
-    for stix_object in results:
-        if ds2stix.spec_version == "2.1":
-            del stix_object["objects"]
-        ds2stix.bundle["objects"].append(stix_object)
-
-    for _, value in ds2stix.unique_cybox_objects.items():
-        ds2stix.bundle["objects"].append(value)
-
-    if options.get('stix_validator'):
-        if ds2stix.spec_version == "2.1":
-            # Serialize and Deserialize bundle to covert StixObjectIds to strings
-            bundle_obj = json.dumps(ds2stix.bundle, sort_keys=False)
-            bundle_obj = json.loads(bundle_obj)
-        else:
-            bundle_obj = ds2stix.bundle
-        validated_result = validate_instance(bundle_obj, ValidationOptions(version=ds2stix.spec_version))
-        print_results(validated_result)
-
-    return ds2stix.bundle
-
+        # map data list to list of transformed objects
+        observation = ds2stix.transform
+        results = list(map(observation, data))
+
+        for stix_object in results:
+            if ds2stix.spec_version == "2.1":
+                del stix_object["objects"]
+            ds2stix.bundle["objects"].append(stix_object)
+
+        for _, value in ds2stix.unique_cybox_objects.items():
+            ds2stix.bundle["objects"].append(value)
+
+        if options.get('stix_validator'):
+            if ds2stix.spec_version == "2.1":
+                # Serialize and Deserialize bundle to covert StixObjectIds to strings
+                bundle_obj = json.dumps(ds2stix.bundle, sort_keys=False)
+                bundle_obj = json.loads(bundle_obj)
+            else:
+                bundle_obj = ds2stix.bundle
+            validated_result = validate_instance(bundle_obj, ValidationOptions(version=ds2stix.spec_version))
+            print_results(validated_result)
+
+        return ds2stix.bundle
+
+    except Exception as e:
+        try:
+            # try to print the error line
+            logger_log = logger.set_logger(__name__)
+            logger_log.error(logger.last_tb_to_string(e))
+        except:
+            pass
+        raise e
 
 class DataSourceObjToStixObj:
     logger = logger.set_logger(__name__)
 
     def __init__(self, data_source, ds_to_stix_map, transformers, options, callback=None):
         self.identity_id = data_source["id"]
         self.ds_to_stix_map = ds_to_stix_map
```

## stix_shifter_modules/proxy/stix_transmission/connector.py

```diff
@@ -17,15 +17,15 @@
         return json.loads(response.bytes)
 
     async def create_query_connection(self, query):
         data = json.dumps({"connection": self.connection, "configuration": self.configuration, "query": query})
         response = await self.client.call_api('/create_query_connection', 'POST', data=data, timeout=self.timeout)
         return json.loads(response.bytes)
 
-    async def create_results_stix_connection(self, entry_point, search_id, offset, length, data_source, metadata=None):
+    async def create_results_connection(self, entry_point, search_id, offset, length, data_source, metadata=None):
         data = json.dumps({"connection": self.connection, "configuration": self.configuration, "search_id": search_id, "offset": offset, "length": length, "data_source": data_source, "metadata": metadata})
         response = await self.client.call_api('/create_results_connection', 'POST', data=data, timeout=self.timeout)
         return json.loads(response.bytes)
 
     async def create_results_stix_connection(self, entry_point, search_id, offset, length, data_source, metadata=None):
         data = json.dumps({"connection": self.connection, "configuration": self.configuration, "search_id": search_id, "offset": offset, "length": length, "data_source": data_source, "metadata": metadata})
         response = await self.client.call_api('/create_results_stix_connection', 'POST', data=data, timeout=self.timeout)
```

## Comparing `stix_shifter_modules_proxy-5.1.1.dist-info/LICENSE.md` & `stix_shifter_modules_proxy-5.1.1.dev796.dist-info/LICENSE.md`

 * *Files identical despite different names*

## Comparing `stix_shifter_modules_proxy-5.1.1.dist-info/METADATA` & `stix_shifter_modules_proxy-5.1.1.dev796.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: stix-shifter-modules-proxy
-Version: 5.1.1
+Version: 5.1.1.dev796
 Summary: Tools and interface to translate STIX formatted results and queries to different data source formats and to set up appropriate connection strings for invoking and triggering actions in openwhisk
 Home-page: https://github.com/opencybersecurityalliance/stix-shifter
 Author: ibm
 Author-email: 
 Project-URL: Source, https://github.com/opencybersecurityalliance/stix-shifter
 Keywords: datasource stix translate transform transmit
 Classifier: License :: OSI Approved :: Apache Software License
```

## Comparing `stix_shifter_modules_proxy-5.1.1.dist-info/NOTICE` & `stix_shifter_modules_proxy-5.1.1.dev796.dist-info/NOTICE`

 * *Files identical despite different names*

## Comparing `stix_shifter_modules_proxy-5.1.1.dist-info/RECORD` & `stix_shifter_modules_proxy-5.1.1.dev796.dist-info/RECORD`

 * *Files 16% similar despite different names*

```diff
@@ -1,18 +1,18 @@
 stix_shifter_modules/proxy/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 stix_shifter_modules/proxy/entry_point.py,sha256=ino_ImOnXF4w_v-u2iW2S8eBXqR9iZyQIIRByCppOvo,824
 stix_shifter_modules/proxy/configuration/config.json,sha256=qfC-f2VI5cvlcuDJLm0e1kpbQlJTr2vFHyhrVr_r398,3287
 stix_shifter_modules/proxy/configuration/dialects.json,sha256=Ch7AbT6OVDZ6W9hZz8XCOPocL-m4-joz7Obb8HqiSi4,76
-stix_shifter_modules/proxy/configuration/lang_en.json,sha256=wcLtRz9oLH0XAeUZlLsiBr2TcYiKajtdThD0cGn5XcQ,2920
+stix_shifter_modules/proxy/configuration/lang_en.json,sha256=u3TAGcy4sM2AYAhcEXEx0msbY9W2wNnkca8pdfV-ge0,2920
 stix_shifter_modules/proxy/stix_translation/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-stix_shifter_modules/proxy/stix_translation/json_to_stix_translator.py,sha256=72KkjPPwPGUxxyhtYaq9CcFAOOKG_emxSqKeCnmveyw,21567
+stix_shifter_modules/proxy/stix_translation/json_to_stix_translator.py,sha256=Y1Vxu4Ry0YG1E0fGPjaXGYjMkzXlcs7hZJicAGMGfh4,21897
 stix_shifter_modules/proxy/stix_translation/query_translator.py,sha256=RmVtldSxcJLHdYQYedN9UBoWrpG6JmA0hAq3aZhCUgQ,2491
 stix_shifter_modules/proxy/stix_translation/results_translator.py,sha256=TCH3UpXKBLAAb6k2kVZH9OqqejJzwk71-YmB1EQAtLw,1238
 stix_shifter_modules/proxy/stix_translation/utils.py,sha256=qY2Uz0tcjbs__IkJsGyQkCbYDYLJ4cG-90L-H9eC5l8,377
 stix_shifter_modules/proxy/stix_transmission/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-stix_shifter_modules/proxy/stix_transmission/connector.py,sha256=CreGe6qk5OS1QWHIOsH8Y2ScA2Z1fqJ-QLTSXjlxKc4,4029
-stix_shifter_modules_proxy-5.1.1.dist-info/LICENSE.md,sha256=ssGEKMVW69oFTBblVhD1YPolqCOyOCJi4wRDRI7xCnU,12786
-stix_shifter_modules_proxy-5.1.1.dist-info/METADATA,sha256=OHpJGKZgl1wyoQb4IM6X4mizBOt_R2Rfbc-x4D813XU,7269
-stix_shifter_modules_proxy-5.1.1.dist-info/NOTICE,sha256=wx-gWE9vSnLJ7YQkrGlMp9VNXOXG57TTxDDRd9CEdYg,1418
-stix_shifter_modules_proxy-5.1.1.dist-info/WHEEL,sha256=bb2Ot9scclHKMOLDEHY6B2sicWOgugjFKaJsT7vwMQo,110
-stix_shifter_modules_proxy-5.1.1.dist-info/top_level.txt,sha256=NX-VgUOr8fI-lMXHt3gtjfsEn1UPaGAVszt6Z_CTp2s,21
-stix_shifter_modules_proxy-5.1.1.dist-info/RECORD,,
+stix_shifter_modules/proxy/stix_transmission/connector.py,sha256=UN-sF9Zmse9PfRKmJDs1AERdHSKf8TufuU9FjYSCcbY,4024
+stix_shifter_modules_proxy-5.1.1.dev796.dist-info/LICENSE.md,sha256=ssGEKMVW69oFTBblVhD1YPolqCOyOCJi4wRDRI7xCnU,12786
+stix_shifter_modules_proxy-5.1.1.dev796.dist-info/METADATA,sha256=F1rBKykzVsdKGIRa3r0E76EKe3AgNIcn3qHZ5fcTT2s,7276
+stix_shifter_modules_proxy-5.1.1.dev796.dist-info/NOTICE,sha256=wx-gWE9vSnLJ7YQkrGlMp9VNXOXG57TTxDDRd9CEdYg,1418
+stix_shifter_modules_proxy-5.1.1.dev796.dist-info/WHEEL,sha256=bb2Ot9scclHKMOLDEHY6B2sicWOgugjFKaJsT7vwMQo,110
+stix_shifter_modules_proxy-5.1.1.dev796.dist-info/top_level.txt,sha256=NX-VgUOr8fI-lMXHt3gtjfsEn1UPaGAVszt6Z_CTp2s,21
+stix_shifter_modules_proxy-5.1.1.dev796.dist-info/RECORD,,
```

