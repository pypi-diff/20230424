# Comparing `tmp/odoo14_addon_stock_helper-14.0.1.1.1.dev1-py3-none-any.whl.zip` & `tmp/odoo14_addon_stock_helper-14.0.1.2.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,21 +1,22 @@
-Zip file size: 23502 bytes, number of entries: 19
--rw-r--r--  2.0 unx     2837 b- defN 22-Dec-31 07:41 odoo/addons/stock_helper/README.rst
--rw-r--r--  2.0 unx       21 b- defN 22-Dec-31 07:41 odoo/addons/stock_helper/__init__.py
--rw-r--r--  2.0 unx      511 b- defN 22-Dec-31 07:41 odoo/addons/stock_helper/__manifest__.py
--rw-r--r--  2.0 unx     1139 b- defN 22-Dec-31 07:41 odoo/addons/stock_helper/i18n/it.po
--rw-r--r--  2.0 unx      905 b- defN 22-Dec-31 07:41 odoo/addons/stock_helper/i18n/stock_helper.pot
--rw-r--r--  2.0 unx       29 b- defN 22-Dec-31 07:41 odoo/addons/stock_helper/models/__init__.py
--rw-r--r--  2.0 unx     1914 b- defN 22-Dec-31 07:41 odoo/addons/stock_helper/models/stock_location.py
--rw-r--r--  2.0 unx      107 b- defN 22-Dec-31 07:41 odoo/addons/stock_helper/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx       74 b- defN 22-Dec-31 07:41 odoo/addons/stock_helper/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx     9455 b- defN 22-Dec-31 07:41 odoo/addons/stock_helper/static/description/icon.png
--rw-r--r--  2.0 unx    12056 b- defN 22-Dec-31 07:41 odoo/addons/stock_helper/static/description/index.html
--rw-r--r--  2.0 unx       96 b- defN 22-Dec-31 07:41 odoo/addons/stock_helper/tests/__init__.py
--rw-r--r--  2.0 unx      717 b- defN 22-Dec-31 07:41 odoo/addons/stock_helper/tests/common.py
--rw-r--r--  2.0 unx     1348 b- defN 22-Dec-31 07:41 odoo/addons/stock_helper/tests/test_location_get_closest_warehouse.py
--rw-r--r--  2.0 unx     1626 b- defN 22-Dec-31 07:41 odoo/addons/stock_helper/tests/test_location_is_sublocation_of.py
--rw-r--r--  2.0 unx     3452 b- defN 22-Dec-31 07:43 odoo14_addon_stock_helper-14.0.1.1.1.dev1.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 22-Dec-31 07:43 odoo14_addon_stock_helper-14.0.1.1.1.dev1.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 22-Dec-31 07:43 odoo14_addon_stock_helper-14.0.1.1.1.dev1.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     1954 b- defN 22-Dec-31 07:43 odoo14_addon_stock_helper-14.0.1.1.1.dev1.dist-info/RECORD
-19 files, 38338 bytes uncompressed, 20154 bytes compressed:  47.4%
+Zip file size: 24284 bytes, number of entries: 20
+-rw-r--r--  2.0 unx     2837 b- defN 23-Apr-24 07:33 odoo/addons/stock_helper/README.rst
+-rw-r--r--  2.0 unx       21 b- defN 23-Apr-24 07:33 odoo/addons/stock_helper/__init__.py
+-rw-r--r--  2.0 unx      511 b- defN 23-Apr-24 07:34 odoo/addons/stock_helper/__manifest__.py
+-rw-r--r--  2.0 unx     1139 b- defN 23-Apr-24 07:33 odoo/addons/stock_helper/i18n/it.po
+-rw-r--r--  2.0 unx      905 b- defN 23-Apr-24 07:33 odoo/addons/stock_helper/i18n/stock_helper.pot
+-rw-r--r--  2.0 unx       29 b- defN 23-Apr-24 07:33 odoo/addons/stock_helper/models/__init__.py
+-rw-r--r--  2.0 unx     2524 b- defN 23-Apr-24 07:33 odoo/addons/stock_helper/models/stock_location.py
+-rw-r--r--  2.0 unx      107 b- defN 23-Apr-24 07:33 odoo/addons/stock_helper/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx       74 b- defN 23-Apr-24 07:33 odoo/addons/stock_helper/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx     9455 b- defN 23-Apr-24 07:33 odoo/addons/stock_helper/static/description/icon.png
+-rw-r--r--  2.0 unx    12056 b- defN 23-Apr-24 07:33 odoo/addons/stock_helper/static/description/index.html
+-rw-r--r--  2.0 unx      142 b- defN 23-Apr-24 07:33 odoo/addons/stock_helper/tests/__init__.py
+-rw-r--r--  2.0 unx      717 b- defN 23-Apr-24 07:33 odoo/addons/stock_helper/tests/common.py
+-rw-r--r--  2.0 unx     1348 b- defN 23-Apr-24 07:33 odoo/addons/stock_helper/tests/test_location_get_closest_warehouse.py
+-rw-r--r--  2.0 unx     1626 b- defN 23-Apr-24 07:33 odoo/addons/stock_helper/tests/test_location_is_sublocation_of.py
+-rw-r--r--  2.0 unx     1447 b- defN 23-Apr-24 07:33 odoo/addons/stock_helper/tests/test_location_source_from_route.py
+-rw-r--r--  2.0 unx     3447 b- defN 23-Apr-24 07:34 odoo14_addon_stock_helper-14.0.1.2.0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Apr-24 07:34 odoo14_addon_stock_helper-14.0.1.2.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-Apr-24 07:34 odoo14_addon_stock_helper-14.0.1.2.0.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     2057 b- defN 23-Apr-24 07:34 odoo14_addon_stock_helper-14.0.1.2.0.dist-info/RECORD
+20 files, 40539 bytes uncompressed, 20770 bytes compressed:  48.8%
```

## zipnote {}

```diff
@@ -39,20 +39,23 @@
 
 Filename: odoo/addons/stock_helper/tests/test_location_get_closest_warehouse.py
 Comment: 
 
 Filename: odoo/addons/stock_helper/tests/test_location_is_sublocation_of.py
 Comment: 
 
-Filename: odoo14_addon_stock_helper-14.0.1.1.1.dev1.dist-info/METADATA
+Filename: odoo/addons/stock_helper/tests/test_location_source_from_route.py
 Comment: 
 
-Filename: odoo14_addon_stock_helper-14.0.1.1.1.dev1.dist-info/WHEEL
+Filename: odoo14_addon_stock_helper-14.0.1.2.0.dist-info/METADATA
 Comment: 
 
-Filename: odoo14_addon_stock_helper-14.0.1.1.1.dev1.dist-info/top_level.txt
+Filename: odoo14_addon_stock_helper-14.0.1.2.0.dist-info/WHEEL
 Comment: 
 
-Filename: odoo14_addon_stock_helper-14.0.1.1.1.dev1.dist-info/RECORD
+Filename: odoo14_addon_stock_helper-14.0.1.2.0.dist-info/top_level.txt
+Comment: 
+
+Filename: odoo14_addon_stock_helper-14.0.1.2.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/stock_helper/__manifest__.py

```diff
@@ -1,14 +1,14 @@
 # Copyright 2020-2021 Camptocamp SA
 # License LGPL-3.0 or later (http://www.gnu.org/licenses/lgpl.html).
 
 {
     "name": "Stock Helpers",
     "summary": "Add methods shared between various stock modules",
-    "version": "14.0.1.1.0",
+    "version": "14.0.1.2.0",
     "author": "Camptocamp, Michael Tietz (MT Software), Odoo Community Association (OCA)",
     "website": "https://github.com/OCA/stock-logistics-warehouse",
     "category": "Hidden",
     "depends": ["stock"],
     "data": [],
     "installable": True,
     "license": "LGPL-3",
```

## odoo/addons/stock_helper/models/stock_location.py

```diff
@@ -1,9 +1,9 @@
 # Copyright 2020-2021 Camptocamp SA (http://www.camptocamp.com)
-# Copyright 2022 Michael Tietz (MT Software) <mtietz@mt-software.de>
+# Copyright 2022-2023 Michael Tietz (MT Software) <mtietz@mt-software.de>
 # License LGPL-3.0 or later (http://www.gnu.org/licenses/lgpl.html).
 
 from odoo import models
 
 
 class StockLocation(models.Model):
     _inherit = "stock.location"
@@ -38,7 +38,24 @@
             .search([("view_location_id", "in", location_ids)])
             .sorted(lambda w: w.view_location_id.parent_path, reverse=True)
         )
         for warehouse in warehouses:
             if self.parent_path.startswith(warehouse.view_location_id.parent_path):
                 return warehouse
         return warehouses.browse()
+
+    def _get_source_location_from_route(self, route, procure_method):
+        self.ensure_one()
+        route.ensure_one()
+        values = {
+            "route_ids": route,
+        }
+        current_location = self
+        while current_location:
+            rule = self.env["procurement.group"]._get_rule(
+                self.env["product.product"], current_location, values
+            )
+            if not rule:
+                return self.browse()
+            if rule.procure_method == procure_method:
+                return rule.location_src_id
+            current_location = rule.location_src_id
```

## odoo/addons/stock_helper/tests/__init__.py

```diff
@@ -1,2 +1,3 @@
 from . import test_location_is_sublocation_of
 from . import test_location_get_closest_warehouse
+from . import test_location_source_from_route
```

## Comparing `odoo14_addon_stock_helper-14.0.1.1.1.dev1.dist-info/METADATA` & `odoo14_addon_stock_helper-14.0.1.2.0.dist-info/METADATA`

 * *Files 4% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: odoo14-addon-stock-helper
-Version: 14.0.1.1.1.dev1
+Version: 14.0.1.2.0
 Summary: Add methods shared between various stock modules
 Home-page: https://github.com/OCA/stock-logistics-warehouse
 Author: Camptocamp, Michael Tietz (MT Software), Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: LGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
```

## Comparing `odoo14_addon_stock_helper-14.0.1.1.1.dev1.dist-info/RECORD` & `odoo14_addon_stock_helper-14.0.1.2.0.dist-info/RECORD`

 * *Files 11% similar despite different names*

```diff
@@ -1,19 +1,20 @@
 odoo/addons/stock_helper/README.rst,sha256=47Oji8WJoxpHWw5Xpx1k6Igp24UPLqrzWr0AcZssaLc,2837
 odoo/addons/stock_helper/__init__.py,sha256=X9EJGOE2GtZbS0G82PtSXmWSZ_R8jEM0rlJTDliQjp4,21
-odoo/addons/stock_helper/__manifest__.py,sha256=r3530ae5l87jFWQQ2xTZMFcbFAOVRJ156cLm9BCpmAo,511
+odoo/addons/stock_helper/__manifest__.py,sha256=2etPmOo7m-Eq1r6eEgM2eUGAIhP1uRYbz676nqBLhSc,511
 odoo/addons/stock_helper/i18n/it.po,sha256=oNTxFD54XqP9kvRyPhSoh8YDnAHgu79iWpNhtf4MnUE,1139
 odoo/addons/stock_helper/i18n/stock_helper.pot,sha256=yDx53BEeO9vXwHgXqWmsncQ_etbLSOnrkQdMH9HIdDE,905
 odoo/addons/stock_helper/models/__init__.py,sha256=qx7x3a8_GF0DpOMCsDk5GmVmWfA_CxqTWEIsW9LYp0E,29
-odoo/addons/stock_helper/models/stock_location.py,sha256=mNgPG0Gb21GaB_eARvKDZqBn2tflW9QxKmrTdJ93Ifw,1914
+odoo/addons/stock_helper/models/stock_location.py,sha256=OJc2Hx87c_TVPkjX1RElvKvUujbxKtfGlEkMmFpZeD8,2524
 odoo/addons/stock_helper/readme/CONTRIBUTORS.rst,sha256=OLzM31BFeY18V5ERvnOjbk7b7CFNJbdFSpSnSCOkJq8,107
 odoo/addons/stock_helper/readme/DESCRIPTION.rst,sha256=RrjKhdx2QKTFPq5Eqsi_wa2keNYJPiF7Qc35Pga5Rsw,74
 odoo/addons/stock_helper/static/description/icon.png,sha256=6xBPJauaFOF0KDHfHgQopSc28kKvxMaeoQFQWZtfZDo,9455
 odoo/addons/stock_helper/static/description/index.html,sha256=aY-CxUkoEY1C9M8EktE92EmNgSpEevdES1_nbrgvnJ0,12056
-odoo/addons/stock_helper/tests/__init__.py,sha256=5SaMfPVcq2zGnnK48vZmlKNq5_8gMSUyZrn_zS8o_fM,96
+odoo/addons/stock_helper/tests/__init__.py,sha256=h1XEEh9LDSXuZl4548ppWoN_JJEY-WlqQqSFFfbKvoc,142
 odoo/addons/stock_helper/tests/common.py,sha256=afQYVC5bgYr5FI3VkyFEXNA8dpKrRRzuy1qZZEn0ztM,717
 odoo/addons/stock_helper/tests/test_location_get_closest_warehouse.py,sha256=PsW-LhQMFMEpFpK7Q0EQjh7Nq8FZvn0wtlUcjV4Kfy8,1348
 odoo/addons/stock_helper/tests/test_location_is_sublocation_of.py,sha256=5tRhOpJoKlt5stFCttFK1ZgqDEySTWQHHQr96ltWFUc,1626
-odoo14_addon_stock_helper-14.0.1.1.1.dev1.dist-info/METADATA,sha256=Bvn0fqq-kFBvykM2K9b3D55PJSbaAdx_qRnmRYARKt8,3452
-odoo14_addon_stock_helper-14.0.1.1.1.dev1.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
-odoo14_addon_stock_helper-14.0.1.1.1.dev1.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo14_addon_stock_helper-14.0.1.1.1.dev1.dist-info/RECORD,,
+odoo/addons/stock_helper/tests/test_location_source_from_route.py,sha256=mkNeZBjh5n8wDFis93REkiGDhKf7QRq8Xr9zK1D2P-o,1447
+odoo14_addon_stock_helper-14.0.1.2.0.dist-info/METADATA,sha256=oP1etcH0z_AVr79ioEbz_oKVIHiP4NyG9CFb7U3tzXA,3447
+odoo14_addon_stock_helper-14.0.1.2.0.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
+odoo14_addon_stock_helper-14.0.1.2.0.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo14_addon_stock_helper-14.0.1.2.0.dist-info/RECORD,,
```

