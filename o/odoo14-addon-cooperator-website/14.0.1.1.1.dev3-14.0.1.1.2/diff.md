# Comparing `tmp/odoo14_addon_cooperator_website-14.0.1.1.1.dev3-py3-none-any.whl.zip` & `tmp/odoo14_addon_cooperator_website-14.0.1.1.2-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,21 +1,21 @@
-Zip file size: 33584 bytes, number of entries: 19
--rw-r--r--  2.0 unx     2773 b- defN 22-Oct-06 15:30 odoo/addons/cooperator_website/README.rst
--rw-r--r--  2.0 unx       26 b- defN 22-Oct-06 15:30 odoo/addons/cooperator_website/__init__.py
--rw-r--r--  2.0 unx      816 b- defN 22-Oct-06 15:30 odoo/addons/cooperator_website/__manifest__.py
--rw-r--r--  2.0 unx       19 b- defN 22-Oct-06 15:30 odoo/addons/cooperator_website/controllers/__init__.py
--rw-r--r--  2.0 unx    17717 b- defN 22-Oct-06 15:30 odoo/addons/cooperator_website/controllers/main.py
--rw-r--r--  2.0 unx      547 b- defN 22-Oct-06 15:30 odoo/addons/cooperator_website/data/website_cooperator_data.xml
--rw-r--r--  2.0 unx     9283 b- defN 22-Oct-06 15:30 odoo/addons/cooperator_website/i18n/cooperator_website.pot
--rw-r--r--  2.0 unx    10672 b- defN 22-Oct-06 15:30 odoo/addons/cooperator_website/i18n/fr.po
--rw-r--r--  2.0 unx       18 b- defN 22-Oct-06 15:30 odoo/addons/cooperator_website/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx       91 b- defN 22-Oct-06 15:30 odoo/addons/cooperator_website/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx      272 b- defN 22-Oct-06 15:30 odoo/addons/cooperator_website/readme/HISTORY.rst
--rw-r--r--  2.0 unx     9455 b- defN 22-Oct-06 15:30 odoo/addons/cooperator_website/static/description/icon.png
--rw-r--r--  2.0 unx    12227 b- defN 22-Oct-06 15:30 odoo/addons/cooperator_website/static/description/index.html
--rw-r--r--  2.0 unx     1863 b- defN 22-Oct-06 15:30 odoo/addons/cooperator_website/static/src/js/cooperator.js
--rw-r--r--  2.0 unx    36442 b- defN 22-Oct-06 15:30 odoo/addons/cooperator_website/views/subscription_template.xml
--rw-r--r--  2.0 unx     3428 b- defN 22-Oct-06 15:30 odoo14_addon_cooperator_website-14.0.1.1.1.dev3.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 22-Oct-06 15:30 odoo14_addon_cooperator_website-14.0.1.1.1.dev3.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 22-Oct-06 15:30 odoo14_addon_cooperator_website-14.0.1.1.1.dev3.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     2070 b- defN 22-Oct-06 15:30 odoo14_addon_cooperator_website-14.0.1.1.1.dev3.dist-info/RECORD
-19 files, 107816 bytes uncompressed, 30012 bytes compressed:  72.2%
+Zip file size: 33691 bytes, number of entries: 19
+-rw-r--r--  2.0 unx     2773 b- defN 23-Apr-24 08:17 odoo/addons/cooperator_website/README.rst
+-rw-r--r--  2.0 unx       26 b- defN 23-Apr-24 08:17 odoo/addons/cooperator_website/__init__.py
+-rw-r--r--  2.0 unx      816 b- defN 23-Apr-24 08:17 odoo/addons/cooperator_website/__manifest__.py
+-rw-r--r--  2.0 unx       19 b- defN 23-Apr-24 08:17 odoo/addons/cooperator_website/controllers/__init__.py
+-rw-r--r--  2.0 unx    18185 b- defN 23-Apr-24 08:17 odoo/addons/cooperator_website/controllers/main.py
+-rw-r--r--  2.0 unx      547 b- defN 23-Apr-24 08:17 odoo/addons/cooperator_website/data/website_cooperator_data.xml
+-rw-r--r--  2.0 unx     9283 b- defN 23-Apr-24 08:17 odoo/addons/cooperator_website/i18n/cooperator_website.pot
+-rw-r--r--  2.0 unx    10672 b- defN 23-Apr-24 08:17 odoo/addons/cooperator_website/i18n/fr.po
+-rw-r--r--  2.0 unx       18 b- defN 23-Apr-24 08:17 odoo/addons/cooperator_website/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx       91 b- defN 23-Apr-24 08:17 odoo/addons/cooperator_website/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx      272 b- defN 23-Apr-24 08:17 odoo/addons/cooperator_website/readme/HISTORY.rst
+-rw-r--r--  2.0 unx     9455 b- defN 23-Apr-24 08:17 odoo/addons/cooperator_website/static/description/icon.png
+-rw-r--r--  2.0 unx    12227 b- defN 23-Apr-24 08:17 odoo/addons/cooperator_website/static/description/index.html
+-rw-r--r--  2.0 unx     1863 b- defN 23-Apr-24 08:17 odoo/addons/cooperator_website/static/src/js/cooperator.js
+-rw-r--r--  2.0 unx    36442 b- defN 23-Apr-24 08:17 odoo/addons/cooperator_website/views/subscription_template.xml
+-rw-r--r--  2.0 unx     3423 b- defN 23-Apr-24 08:17 odoo14_addon_cooperator_website-14.0.1.1.2.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Apr-24 08:17 odoo14_addon_cooperator_website-14.0.1.1.2.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-Apr-24 08:17 odoo14_addon_cooperator_website-14.0.1.1.2.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     2050 b- defN 23-Apr-24 08:17 odoo14_addon_cooperator_website-14.0.1.1.2.dist-info/RECORD
+19 files, 108259 bytes uncompressed, 30159 bytes compressed:  72.1%
```

## zipnote {}

```diff
@@ -39,20 +39,20 @@
 
 Filename: odoo/addons/cooperator_website/static/src/js/cooperator.js
 Comment: 
 
 Filename: odoo/addons/cooperator_website/views/subscription_template.xml
 Comment: 
 
-Filename: odoo14_addon_cooperator_website-14.0.1.1.1.dev3.dist-info/METADATA
+Filename: odoo14_addon_cooperator_website-14.0.1.1.2.dist-info/METADATA
 Comment: 
 
-Filename: odoo14_addon_cooperator_website-14.0.1.1.1.dev3.dist-info/WHEEL
+Filename: odoo14_addon_cooperator_website-14.0.1.1.2.dist-info/WHEEL
 Comment: 
 
-Filename: odoo14_addon_cooperator_website-14.0.1.1.1.dev3.dist-info/top_level.txt
+Filename: odoo14_addon_cooperator_website-14.0.1.1.2.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo14_addon_cooperator_website-14.0.1.1.1.dev3.dist-info/RECORD
+Filename: odoo14_addon_cooperator_website-14.0.1.1.2.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/cooperator_website/__manifest__.py

```diff
@@ -1,15 +1,15 @@
 # Copyright 2013-2018 Open Architects Consulting SPRL.
 # Copyright 2018-Coop IT Easy SC (<http://www.coopiteasy.be>)
 # - Houssine BAKKALI - <houssine@coopiteasy.be>
 # License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl.html).
 
 {
     "name": "Cooperators Website",
-    "version": "14.0.1.1.0",
+    "version": "14.0.1.1.2",
     "depends": [
         "cooperator",
         "website",
     ],
     "author": "Coop IT Easy SC, Odoo Community Association (OCA)",
     "category": "Cooperative management",
     "website": "https://github.com/OCA/cooperative",
```

## odoo/addons/cooperator_website/controllers/main.py

```diff
@@ -253,14 +253,24 @@
         return langs
 
     def get_selected_share(self, kwargs):
         prod_obj = request.env["product.template"]
         product_id = kwargs.get("share_product_id")
         return prod_obj.sudo().browse(int(product_id)).product_variant_ids[0]
 
+    def _additional_validate(self, kwargs, logged, values, post_file):
+        """
+        Validation hook that can be reimplemented in dependent modules.
+
+        This should return a boolean value indicating whether the validation
+        succeeded or not. If it did not succeed, an error message should be
+        assigned to values["error_msg"].
+        """
+        return True
+
     def validation(  # noqa: C901 (method too complex)
         self, kwargs, logged, values, post_file
     ):
         user_obj = request.env["res.users"]
         sub_req_obj = request.env["subscription.request"]
 
         redirect = "cooperator_website.becomecooperator"
@@ -351,14 +361,18 @@
             values = self.fill_values(values, is_company, logged)
             values["error_msg"] = _(
                 "You can't subscribe for an amount that exceeds "
                 "{amount}{currency_symbol}."
             ).format(amount=max_amount, currency_symbol=company.currency_id.symbol)
             return request.render(redirect, values)
 
+        if not self._additional_validate(kwargs, logged, values, post_file):
+            values = self.fill_values(values, is_company, logged)
+            return request.render(redirect, values)
+
         # remove non-model attributes (used internally when re-rendering the
         # form in case of a validation error)
         del values["redirect_url"]
         del values["confirm_email"]
 
         return True
 
@@ -454,16 +468,14 @@
 
         subscription_id = sub_req_obj.sudo().create(values)
 
         if subscription_id:
             for field_value in post_file:
                 attachment_value = {
                     "name": field_value.filename,
-                    "res_name": field_value.filename,
                     "res_model": "subscription.request",
                     "res_id": subscription_id,
                     "datas": base64.encodestring(field_value.read()),
-                    "datas_fname": field_value.filename,
                 }
                 attach_obj.sudo().create(attachment_value)
 
         return self.get_subscription_response(values, kwargs)
```

## Comparing `odoo14_addon_cooperator_website-14.0.1.1.1.dev3.dist-info/METADATA` & `odoo14_addon_cooperator_website-14.0.1.1.2.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: odoo14-addon-cooperator-website
-Version: 14.0.1.1.1.dev3
+Version: 14.0.1.1.2
 Summary: This module adds the cooperator subscription form allowing to subscribe for shares online.
 Home-page: https://github.com/OCA/cooperative
 Author: Coop IT Easy SC, Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: AGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
```

## Comparing `odoo14_addon_cooperator_website-14.0.1.1.1.dev3.dist-info/RECORD` & `odoo14_addon_cooperator_website-14.0.1.1.2.dist-info/RECORD`

 * *Files 6% similar despite different names*

```diff
@@ -1,19 +1,19 @@
 odoo/addons/cooperator_website/README.rst,sha256=vpdZgmw2GGAORmyun2hMDSrqDZjxrwljv0edaPdA0E4,2773
 odoo/addons/cooperator_website/__init__.py,sha256=kSWYuO-PxZ84nc6BjSWeVUfsZm6WHS036w3uy09DqBA,26
-odoo/addons/cooperator_website/__manifest__.py,sha256=7gqTi_uZhwYiK9LJC58BF_fgNBJZujMI3NWf6B3B4tQ,816
+odoo/addons/cooperator_website/__manifest__.py,sha256=3h5lrQ4nougVhQXEAfhkCK29fKhRHy78BJYaQBvIvsE,816
 odoo/addons/cooperator_website/controllers/__init__.py,sha256=4KFqEP2QHFbPN66eQJMdGsmNz2v7ywWv_FR1pW_kkLk,19
-odoo/addons/cooperator_website/controllers/main.py,sha256=rT0XEP8Ebr-cIAVphrcnkCgfAi9PMX4WB4BDkwMvfDU,17717
+odoo/addons/cooperator_website/controllers/main.py,sha256=KaSRExH90KrfXaMheUOFMbSp7CIkZT5CdfJFE7C7bSA,18185
 odoo/addons/cooperator_website/data/website_cooperator_data.xml,sha256=HVzl7lD9Qs_6fqnqqCwX5NHLUc8B0ioqZEV1awq-Nmc,547
 odoo/addons/cooperator_website/i18n/cooperator_website.pot,sha256=e9pNGeJNM7lh8f-J8tbXMgRaCxYtmhc0TJX5eXxeiSM,9283
 odoo/addons/cooperator_website/i18n/fr.po,sha256=Ct5VWYDahK4d94UneinwjF_Z0Y6X29vRd1GZ7Zg3mCY,10672
 odoo/addons/cooperator_website/readme/CONTRIBUTORS.rst,sha256=jZSoYmiU3IPeLac0s1aHy-axvutpCVeY76cpndsLQok,18
 odoo/addons/cooperator_website/readme/DESCRIPTION.rst,sha256=wCnmBpV1y0Wo_AMvmo8EiG4VJ9gEtwjhbjK2xpQQOL8,91
 odoo/addons/cooperator_website/readme/HISTORY.rst,sha256=7AAY5lJ5yOZYiF-Mr--Z9cTKlFYkpqe5u6nqOxyNv3g,272
 odoo/addons/cooperator_website/static/description/icon.png,sha256=6xBPJauaFOF0KDHfHgQopSc28kKvxMaeoQFQWZtfZDo,9455
 odoo/addons/cooperator_website/static/description/index.html,sha256=I0HmAjr9Qf9Ht9_kD99mFNa5QzHwocMOXL_vL6C5xWk,12227
 odoo/addons/cooperator_website/static/src/js/cooperator.js,sha256=HqU8LDB0mUPe2-_yMlkOOsPt0xaPohzWAGHpWGyIYuo,1863
 odoo/addons/cooperator_website/views/subscription_template.xml,sha256=YCy2EqvaCo7jWcPkbR0ATMVprRiJ6S6EZLDXmWRj4Rk,36442
-odoo14_addon_cooperator_website-14.0.1.1.1.dev3.dist-info/METADATA,sha256=Btbmd-0anY9Lr2zipWsDUisHhPTxB392nXRbLJ4teaE,3428
-odoo14_addon_cooperator_website-14.0.1.1.1.dev3.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
-odoo14_addon_cooperator_website-14.0.1.1.1.dev3.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo14_addon_cooperator_website-14.0.1.1.1.dev3.dist-info/RECORD,,
+odoo14_addon_cooperator_website-14.0.1.1.2.dist-info/METADATA,sha256=Cx1QbsrAWeDgFFCJCjbv6ZhW8zk-r9ePo5v7GazBnVk,3423
+odoo14_addon_cooperator_website-14.0.1.1.2.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
+odoo14_addon_cooperator_website-14.0.1.1.2.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo14_addon_cooperator_website-14.0.1.1.2.dist-info/RECORD,,
```

